<!--

HTML5
-*- coding: utf-8 -*-
Author: Nicolas Flandrois
Date:   Wed 07 October 2020 16:50:14
Last Modified time: Thu 08 October 2020 00:42:27 

 -->

<!-- Description: HTML Skeleton for Chart.JS rendering -->
{% extends "home/base.html" %}

<script>
{% block jquery %}

var endpoint = '/graphs/api/chart/data/'
var intensity_x = []
var intensity_y = []
var location_doughnut = []
$.ajax({
    method:"GET",
    url: endpoint,
    success: function(data){
        intensity_x = data.intensity_x
        intensity_y = data.intensity_y
        location_doughnut = data.location_doughnut
        var ctx = document.getElementById('myChart')
        var ctx_doughnut = document.getElementById('myDoughnutChart')
        var myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: intensity_x,
                datasets: [{
                    label: 'Intensit√© de la douleur',
                    data: intensity_y,
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                }]
            }
        });
        var myDoughnutChart = new Chart(ctx_doughnut, {
            type: 'doughnut',
            data: location_doughnut,
            options:
        });

    },
    error: function(error_data){
        console.log("error")
        console.log(error_data)
    }
})

{% endblock %}
</script>

{% block content %}
  <!-- Your Chart Here -->
  <div class="row">
      <div class="col-12">
        <h1>Your Chart</h1>
        <div class="col-sm-6">
            <canvas id="myChart" width="200" height="auto"></canvas>
        </div>
        <div class="col-sm-6">
            <canvas id="myDoughnutChart" width="200" height="auto"></canvas>
        </div>
      </div>
  </div>
  <!-- Do no remove - Ensure dialogue not hidden by Header's Navbar -->
  <p class="col d-flex invisible" style="margin-bottom: 50px"> This Paragraph ensure the bottom of the conversation isn't hidden by the Footer.</p>
  <!-- Do no remove - Ensure dialogue not hidden by Header's Navbar -->

{% endblock %}
